<?php
 
$file = fopen("image2.php", "w"); // 쓰기모드로 파일을 수정합니다. (파일이 없다면 새로 만듭니다.)
 
fwrite($file, '<?php // 해당파일에 내용을 추가합니다.
 
    header ("Content-type: image/png"); // 콘텐츠의 타입을 png image 로 선언합니다.
 
    $bg  = imagecreatefrompng("/image/image-bg.png"); // 캔버스로 사용 할 투명한 300px X 200px 의 빈 이미지입니다.
    $im  = imagecreatefrompng("/image/image-1.png"); // 100 x 200 의 왼쪽에 위치할 이미지입니다.
    $im2 = imagecreatefrompng("/image/image-2.png"); // 100 x 200 의 중앙에 위치할 이미지입니다.
    $im3 = imagecreatefrompng("/image/image-3.png"); // 100 x 200 의 오른쪽에 위치할 이미지입니다.
 
    imagecopy($bg, $im, 0, 0, 0, 0, 100, 200); // 캔버스 이미지에 왼쪽에 위치할 이미지를 합칩니다.
    imagecopy($bg, $im2, 100, 0, 0, 0, 100, 200); // 왼쪽이미지가 합쳐진 이미지에 중앙 이미지를 합칩니다.
    imagecopy($bg, $im3, 200, 0, 0, 0, 100, 200); // 마지막 오른쪽에 오른쪽 이미지를 합칩니다.
 
    imagepng($bg); // 이미지를 만듭니다.
    imagedestroy($bg); // 정보를 지웁니다.
 
    ?>');
 
fclose($file); // 파일 수정을 끝냅니다.
 
?>